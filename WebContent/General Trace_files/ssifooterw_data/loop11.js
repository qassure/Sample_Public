!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;for(var i=0|t,r=Math.max(i>=0?i:o-Math.abs(i),0);r<o;){if(function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[r],e))return!0;r++}return!1}}),window.l11_functions=window.l11_functions||function(){var e=function(e,t,n){var o=new Image,i=escape(JSON.stringify(t));o.onload=n,o.src=e+"/usertest/set-session/"+encodeURIComponent(i),o.style.display="none",document.body.appendChild(o)},t=function(e,t){var n=new Image;n.onload=t,n.src=e+"/usertest/delete-session",n.style.display="none",document.body.appendChild(n)},n=function(e,t,n){var o=function e(o){var i;try{i=JSON.parse(unescape(o.data))}catch(e){return}i.fromLoop11?(t(i.session),window.removeEventListener("message",e)):i.noSession?(t({}),window.removeEventListener("message",e)):n()};window.addEventListener("message",o);var i=document.createElement("iframe");i.src=e+"/usertest/get-session",i.style.display="none",document.body.appendChild(i)},o=function(e,t,n,o,i){var r="";if(n){var l=new Date;l.setTime(l.getTime()+1e3*n),r+=" expires="+l.toGMTString()+";"}o&&(r+=" domain="+o+";"),null===t||null===i||i||(t=encodeURIComponent(t)),document.cookie=e+"="+t+";"+r+" path=/"},i=function(e,t){null!==r(e,!1)&&o(e,"",-86400,t)},r=function(e,t){for(var n=document.cookie.split(";"),o=null,i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);var l=r.indexOf("=");if(r.substring(0,l)===e){o=r.substring(l+1,r.length);break}}return null!==o&&null!==t&&!0!==t&&(o=decodeURIComponent(o)),o},l=null,d=function(){if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else{document.attachEvent("onreadystatechange",a),window.attachEvent("onload",a);var e=!1;try{e=null===window.frameElement&&document.documentElement}catch(e){}e&&e.doScroll&&function t(){try{e.doScroll("left")}catch(e){return window.setTimeout(t,50)}s(),u(arguments)}()}},c=function(e){if("complete"===document.readyState)return void window.setTimeout(e,0);null===l?(l=[e],d()):l.push(e)},a=function(e){(document.addEventListener||"load"===e.type||"complete"===document.readyState)&&(s(),u.apply(this,arguments))},s=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",a,!1),window.removeEventListener("load",a,!1)):(document.detachEvent("onreadystatechange",a),window.detachEvent("onload",a))},u=function(){for(var e=0;e<l.length;e++)try{l[e].apply(this,arguments)}catch(e){}};return{addReadyStateHandler:c,addListener:function(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):window.attachEvent&&t.attachEvent("on"+e,n)},session:{set:e,delete:t,get:n},cookies:{set:o,unset:i,get:r}}}(),window.loop11Loader=function(){function e(e,t,n){if(t&&"loading"===document.readyState){var o="loop11_script_"+(new Date).getTime();try{if(fe=document.createElement("script"),fe.id=o,fe.src=e,fe.type="text/javascript",document.body.appendChild(fe),document.getElementById(o))return!0}catch(e){}}if(fe=document.createElement("script"),fe.src=e,fe.type="text/javascript",n){var i=!1;fe.onload=fe.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,n())}}return document.getElementsByTagName("head")[0].appendChild(fe),!1}function t(t,n,o){o=o||function(){};for(var i=t.length,r=function(e){0==--i&&o(e)},l=0;l<t.length;l++)e(t[l],n,r)&&n&&0==--i&&o()}function n(t,n,r,l){if(void 0!==l||!u()&&!p()){if(void 0!==t&&"l11_uid"in t&&(ve=t),void 0!==r){window.l11_clientOptions=window.l11_clientOptions||{},window.l11_clientOptions.participantParameters=window.l11_clientOptions.participantParameters||{};var d=JSON.parse(r);console.log("startQueryParams",d);for(var f in d)window.l11_clientOptions.participantParameters[f]=d[f]}if(null===ve){var w=function(e){ve=e,l&&(ve.l11_uid=n),o()},h=function(){console.log("session.get onError","checking if browser is Safari"),e(me.bowser,!0,function(){s()&&(m()||l)?i():(c(),a(),o())})};window.l11_functions.session.get(F,w,h)}else c(),a(),o()}}function o(){if(h(),void 0!==window.l11_clientOptions&&"participantParameters"in window.l11_clientOptions)for(var e in window.l11_clientOptions.participantParameters)he.includes(e)&&(null===ve&&(ve={}),ve[e]=window.l11_clientOptions.participantParameters[e]);l(),r()}function i(){if(f()){var e=F+"/no-cookie/";window.document.location.href=e}else{var t=encodeURIComponent(window.document.location.href),n=F+"/usertest/reset-session-via-redirect/"+t;window.document.location.href=n}}function r(){null!==$&&null!==ve&&"l11_uid"in ve&&(!("l11_mode"in ve&&ve.l11_mode!==we.popup)&&"l11_mode"in ve||t(D(),!0))}function l(){if((null===ve||null!==ve&&0===Object.keys(ve).length)&&void 0!==window.loop11_pp){var t="l11_popup"+window.loop11_pp[1];null===window.l11_functions.cookies.get(t)?(window.l11_functions.cookies.set(t,1,1296e4),ge=null==window.l11_functions.cookies.get(t),Math.floor(100*Math.random())<=window.loop11_pp[0]&&(ve={l11_uid:window.loop11_pp[1],l11_mode:we.popup},window.loop11_pp[2]&&(ve.l11_action="poseidon"),v())):ge=!1}null!==ve&&ve.l11_mode&&ve.l11_mode===we.popup&&window.l11_functions.addReadyStateHandler(function(){e(b())})}function d(){for(var e=0;e<he.length;e++)window.l11_functions.cookies.unset(he[e]);window.l11_functions.cookies.unset("session")}function c(){if(J("sessiondata")){var e=q("sessiondata");ve=ve||{};for(var t=0;t<he.length;t++){var n=he[t];if(n in e){if(!e.hasOwnProperty(n))continue;ve[n]=e[n]}}}}function a(){if(null!==window.l11_functions.cookies.get("l11_uid")&&window.l11_functions.cookies.get("l11_mode")!==we.heatmap_view){ve=ve||{};for(var e=0;e<he.length;e++){var t=he[e],n=window.l11_functions.cookies.get(t);null!==n&&(ve[t]=n)}}}function s(){var e=!1;"undefined"!=typeof bowser&&(e=!0===bowser.safari);var t=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent);return e||t}function u(){return window.loop11ExtTerritory||!1}function p(){var e=w();return"loop11AppTerritory"in e||"l11_isInApp"in e}function m(){return"l11_uid"in w()}function f(){return"l11_redirected"in w()}function w(){var e=document.location.search,t={};return e="/"===e.charAt(e.length-1)?e.substring(0,e.length-1):e,e.replace(new RegExp("([^?=&;]+)(=([^&;]*))?","g"),function(e,n,o,i){t[n]=i}),t}function h(){var e=w();if("l11_uid"in e||e.l11_mode===we.general_preview){ve=ve||{};for(var t=0;t<he.length;t++){var n=he[t];n in e&&(ve[n]=e[n])}}}function v(e){void 0!==e&&(ve=e);for(var t=0;t<he.length;t++){var n=he[t];void 0!==ve[n]&&null!==ve[n]?window.l11_functions.cookies.set(n,ve[n],null):window.l11_functions.cookies.unset(n)}}function g(){return ve}function b(){for(var e=ae,t=0;t<he.length;t++){var n=he[t];"l11_env"!==n&&ve[n]&&(e+=ve[n]+"/")}return e}function y(e){if(ge)console.log("Browser cookies are set to disabled");else{x(e),de=e.ui||de;var n=e.popupbox;re=C("div"),re.setAttribute("id","loop11-popupbox"),re.setAttribute("aria-labelledby","loop11-popupbox"),re.innerHTML="<p>"+n.content+"</p>";var o=document.createElement("div");o.setAttribute("id","loop11-lightbox-buttons");var i;i=n.redirect?function(){P(),d(),document.location.href=n.redirect}:function(){P(),re.parentNode.removeChild(re),delete ve.l11_mode,window.l11_functions.cookies.unset("l11_mode"),t(D(),!1)},o.appendChild(E("exit",de.popupExit,null,null,U)),o.appendChild(E("begin",de.popupBegin,e.theme?null:"loop11-begin",null,i)),re.appendChild(o),A(re),"absolute"!==S(re,"position")&&(re.style.display="none",j("loop11-popupbox",!0)),T(re),N(),_(),window.scroll(0,0);var r=window.document.getElementsByClassName("loop11-begin")[0];r&&(r.setAttribute("autofocus","autofocus"),r.focus())}}function _(){if(document.getElementById("newContentAnnounce")){var e=document.getElementById("newContentAnnounce");e.style.clip="rect(0px,0px,0px,0px)",e.innerHTML="",e.style.visibility="hidden"}else{var t=document.createElement("div");t.setAttribute("id","newContentAnnounce"),t.setAttribute("role","alert"),t.setAttribute("aria-atomic","true"),t.style.color="white",t.style.position="absolute",t.style.height="1px",t.style.width="1px",t.style.fontSize="1px",t.style.clip="rect(0px,0px,0px,0px)",document.body.appendChild(t),t=document.getElementById("newContentAnnounce"),t.appendChild(document.createTextNode("Please be patient as page loads.")),t.style.visibility="hidden",t.style.visibility="visible"}}function E(e,t,n,o,i){var r=document.createElement("input");return r.setAttribute("type","button"),null!==e&&r.setAttribute("name",e),null!==t&&r.setAttribute("value",t),null!==n&&r.setAttribute("class",n),null!==o&&r.setAttribute("id",o),null!==i&&(r.onclick=i),r}function x(e){var t=e.theme||!1,n=document.getElementsByTagName("link"),o=!1,i=null;i=t?ce+"usertest-style/"+e.session.l11_uid+"/css":"ltr"===de.dir?se+ee+".css":se+ee+"rtl.css";for(var r=0;r<n.length;r++)if(n[r].getAttribute("href")===i){o=!0;break}if(!o){var l=document.createElement("link");if(l.setAttribute("rel","stylesheet"),l.setAttribute("type","text/css"),l.setAttribute("href",i),document.getElementsByTagName("head")[0].appendChild(l),null!==k()){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),"ltr"===de.dir?d.setAttribute("href",se+ie+".css"):d.setAttribute("href",se+ie+"rtl.css"),document.getElementsByTagName("head")[0].appendChild(d)}}}function k(){var e=null;return void 0!==document.body.style.scrollbar3dLightColor&&(e=void 0!==document.body.style.opacity?"IE9":void 0!==document.body.style.msBlockProgression?"IE8":void 0!==document.body.style.msInterpolationMode?"IE7":void 0!==document.body.style.textOverflow?"IE6":"IE5.5"),e}function A(e){e&&(document.body.childNodes.length>0?document.body.insertBefore(e,document.body.childNodes[0]):document.body.appendChild(e))}function C(e){var t=document.createElement(e);return t.setAttribute("lang",de.lang),t.setAttribute("dir",de.dir),t}function S(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}function j(e,t){var n=document.getElementById(e);if(n)if("absolute"!==S(n,"position"))setTimeout(function(){j(e,t)},250);else if(t){var o=I()[1];n.style.display="block",T(n),"loop11-lightbox-task-panel"===e&&B("loop11-lightbox-scroll",o)}else n.style.display="block"}function L(e){var t,n,o=q("ui",null);return o&&!e?o:(o="triton.1","complete"!==document.readyState&&navigator.userAgent.match(/android;.*?mobile.*?firefox|android 2[.0-9]+.*version\/4\.0 mobile/gi)&&(t=document.querySelector('meta[name="viewport"]'))&&(n=t.content)&&/width\s*=\s*(?:320|device-width)|height\s*=\s*device-height/i.test(n)?"triton.2":(window.matchMedia?window.matchMedia("(max-width: 885px)").matches&&(o="triton.2"):document.documentElement.clientWidth<=885&&(o="triton.2"),o))}function O(e,n){Z=L(!1),e===Z?n():t(D())}function H(){window.postMessage({usertestComplete:!0},"*")}function I(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function T(e){if(e){var t=I()[1],n=Math.round(t/2-e.offsetHeight/2);e.style.top=n>0?n+"px":"1px"}}function B(e,t){var n=document.getElementById(e);if(n){var o=n.offsetHeight;o>t&&(o=85<=t-85?t-85:85,n.style.height=o+"px")}}function N(){le||(le=document.createElement("div"),le.setAttribute("id","loop11overlay"),le.style.height=M()+"px",document.body.appendChild(le))}function P(){var e=document.getElementById("loop11overlay");e&&e.parentNode.removeChild(e)}function M(){var e,t;return e=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.documentElement&&document.documentElement.scrollHeight>document.documentElement.offsetHeight?document.documentElement.scrollHeight:document.body.offsetHeight,window.innerHeight?t=window.innerHeight:document.documentElement&&document.documentElement.clientHeight?t=document.documentElement.clientHeight:document.body&&(t=document.body.clientHeight),e<t?t:e}function U(){window.confirm(de.exit_conf)&&(P(),d(),window.l11_functions.session.delete(F),H(),re.parentNode.removeChild(re))}function R(e){if(!("inject_recorder"===e&&"l11_uid"in ve&&pe.includes(ve.l11_uid)))return e in me?me[e]:void 0}function W(e){for(var t=[],n=0;n<e.length;n++)e[n]in me&&t.push(me[e[n]]);return t}function D(e){return e=e||Z,W(ue[e])}function V(){return{domain:F,cdndomain:X,uiType:Z,key:$,stylePath:ne,staticPath:te,jsPath:oe}}function q(e,t){var n=window.l11_clientOptions||{};return e in n?n[e]:t}function J(e){return e in(window.l11_clientOptions||{})}var Y,z,G,K=function(){var e=document.location.search,t={};return e="/"===e.charAt(e.length-1)?e.substring(0,e.length-1):e,e.replace(new RegExp("([^?=&;]+)(=([^&;]*))?","g"),function(e,n,o,i){t[n]=i}),"l11_env"in t?t.l11_env:"production"}();switch(K){case"staging":Y="https://",z="staging.loop11.com",G="cdn.staging.loop11.com";break;case"docker":Y="http://",z="localhost:8000",G="localhost:8000";break;default:Y="https://",z="www.loop11.com",G="cdn.loop11.com"}var Q=q("loop11protocol",Y),F=Q+q("loop11domain",z),X=Q+q("loop11cdndomain",G),Z=L(!1),$=void 0===window.loop11_key?null:window.loop11_key,ee="triton/css/taskbar",te="/static/",ne="/static/triton/css/",oe="/static/triton/js/",ie="triton/css/ie",re=null,le=null,de={lang:"en",dir:"ltr",move:"move",hide:"hide",show:"show",exit:"exit",loading:"Loading, please wait.",exit_conf:"Exit user test?",complete:"Complete",mandatory:"This question is required.",resume:"Resume test",begin:"Begin Evaluation",popupExit:"Exit",popupBegin:"Begin Evaluation"},ce=F+"/triton/"+($?$+"/":""),ae=F+"/triton/time/"+(new Date).getTime()+"/"+($?$+"/":""),se=X+"/static/",ue={"triton.1":["embed.full"],"triton.2":["triton.2"]},pe=["36087"],me={"embed.full":se+"triton/js/loop11ui-desktop.js?v=3f48bdc2be03ed616bc6b17560a7259a3ae00dbe9d5eeaac74944f654dedc9a5","triton.2":se+"triton/js/loop11ui-mobile.js?v=fb83af15e71368ec671f262069900b8b3d9d7541302764165d4768527817bc52",clickview:se+"triton/js/clickview-heatmap.js?v=2ae734aac74cd98ce4183b2356bf04548ddda3522b3d97737ae331189ff35eed",clickrecord:se+"triton/js/clickrecord.js?v=c3f941544858ead041f7a4c57a186a7ae7b6b9cd42c9e363faffb7cb386b3834",usertest:se+"triton/js/usertest.js?v=7cea0ffd1fbfdc6fdc6c705df061b33542208475733bb5477d157124a46fb5aa",inject_recorder:se+"triton/js/inject-recorder.js?v=4db739cea968bd980c7acc50f22cb55edb786a1006d34cb507b90b522a088159"};me.bowser="https://cdnjs.cloudflare.com/ajax/libs/bowser/1.8.0/bowser.min.js";var fe,we={popup:"popup",general_preview:"general-preview",preview:"preview",heatmap_view:"heatmap-view"},he=["l11_mode","l11_uid","l11_pid","l11_ot","l11_oid","l11_action","l11_env","l11_show_taskbar"],ve=null,ge=!0;return{init:n,popup:y,getSession:g,storeLocalSession:v,clearLocalSession:d,getConfig:V,getLibUrl:R,getLibUrls:W,getUILibUrls:D,outputScript:e,outputScripts:t,initIfCorrectUI:O,usertestComplete:H}}(),window.loop11Loader.init()}]);
//# sourceMappingURL=loop11.js.map